(()=>{"use strict";const n=()=>'\n        <div class="error404">\n            <h2>Error 404</h2>\n        </div>\n    ',e=()=>location.hash.slice(1).toLocaleLowerCase().split("/")[1]||"/",a={"/":async()=>{const n=await(async()=>{try{const n=await fetch("https://api.themoviedb.org/3/discover/movie?api_key=67793f2b9dbf21d7978096d65e31da6b&sort_by=vote_count.desc");return await n.json()}catch(n){console.log("Fetch Error: ",n)}})(),e=await(async()=>{try{const n=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=67793f2b9dbf21d7978096d65e31da6b");return await n.json()}catch(n){console.log("Fetch Error: ",n)}})();return`\n        <div class="peliculas">\n            <article class="peliculas-populares">\n                <section class="seccion-titulo">\n                    <h2>Las más Populares</h2>\n                </section>\n                <section class="seccion-pelicula id="populares">\n                    ${n.results.map((n=>`\n                        <div class="pelicula-item">\n                            <a href="#/${n.id}">\n                                <img src="https://image.tmdb.org/t/p/w500${n.backdrop_path}" alt=${n.original_title}>\n                                <h3>${n.original_title}</h3>\n                                <p>Puntuación: ${n.vote_average}</p>\n                            </a>\n                        </div>\n                        `)).join("")}\n                </section>\n            </article>\n            <article class="peliculas-tendencias">\n                <section class="seccion-titulo">\n                    <h2>Tendencias</h2>\n                </section>\n                <section class="seccion-pelicula id="tendendencia">\n                    ${e.results.map((n=>`\n                        <div class="pelicula-item">\n                            <a href="#/${n.id}">\n                                <img src="https://image.tmdb.org/t/p/w500${n.backdrop_path}" alt=${n.original_title}>\n                                <h3>${n.original_title}</h3>\n                                <p>Puntuación: ${n.vote_average}</p>\n                            </a>\n                        </div>\n                       `)).join("")}\n                </section>\n            </article>\n        </div>\n   `},"/:id":async()=>{const a=e(),i=await(async e=>{const a=e?`https://api.themoviedb.org/3/movie/${e}?api_key=67793f2b9dbf21d7978096d65e31da6b&language=es`:n;try{const n=await fetch(a);return await n.json()}catch(n){console.log("Fetch Error: ",n)}})(a),t=await(async n=>{const e=`https://api.themoviedb.org/3/movie/${n}/credits?api_key=67793f2b9dbf21d7978096d65e31da6b`;try{const n=await fetch(e);return await n.json()}catch(n){console.log("Fetch Error: ",n)}})(a);return`\n        <div class="pelicula-card">\n            <div class="pelicula-info">\n                <h2>${i.original_title}</h2>\n                <p>${i.overview}</p><br>\n                <h3>Año: </h3>\n                <p>${i.release_date}</p><br>\n                <h3>Duración: </h3>\n                <p>${i.runtime} min.</p><br>\n                <h3>Puntuación: </h3>\n                <p>${i.vote_average}</p><br>\n                <h3>Géneros: </h3>\n                <p>${i.genres.map((n=>`${n.name}`)).join(", ")}</p><br>\n                <h3>Reparto: </h3>\n                <p id="cast">${t.cast.map((n=>`${n.name}; `)).join(" ")}</p>\n            </div>\n            <div class="pelicula-img">\n                <img class="poster-img" src="https://image.tmdb.org/t/p/w500${i.poster_path}" alt="img">\n            </div>\n        </div>\n    `}},i=async()=>{const i=document.getElementById("header"),t=document.getElementById("movie-grid");let s=e(),c=await(n=>n.length<=7?"/"===n?n:"/:id":`/${n}`)(s),o=a[c]?a[c]:n;i.innerHTML='\n        <div class="header-main">\n            <div class="header-nav">\n                <img src="./proyector2.png" class="header-img">\n                <div class="header-title">\n                    <h1>Pelis YA!</h1>\n                </div>\n            </div>\n        </div>\n    ',t.innerHTML=await o()};window.addEventListener("load",i),window.addEventListener("hashchange",i)})();